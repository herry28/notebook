#  dart概述

dart是`强类型`语言，初始化赋值时`已经确定好变量的类型`。

入口函数：`main(){}`

打印：print()

判断2个对象是否相等：identical()

`external`关键字：将`方法的声明和实现分离`，可以针对不同的平台进行不同的实现

- `@patch`：方法实现

## 库的使用

1. 系统库：
   - 核心库：不需导入
   - 其他库：需导入，import 'dart：库名'
2. 第三方库：`pubspec.yaml`文件管理第三方库--->pub get--->import 'package：库 '
3. 自定义库：import '' as 别名

默认情况下，一个dart文件就是一个模块（库文件）

`as`关键字给库起别名

默认情况下，导入一个库时会导入库中所有的内容。

- show：执行要导入的内容
- hide：隐藏某个要导入的内容

`export`关键字：公共的dart文件抽取

## 特殊运算符

# 特殊运算符

- ~/：向上取整
- `??= `：当原来的变量为null，则赋值；当原来的变量有值，则不赋值
- `??`：??前面的变量为null，就使用后面的值；??前面的变量有值，则赋该值
- ..  ：级联运算符，相当于链式调用







# 变量

## 变量

- 声明变量可以用`var（类型推导）`或`类型`关键字。
- `Object & dynamic`：声明`可变类型的变量`
  - Object：`父类引用指向子类对象`。调用方法时，编译时报错
  - dynamic：明确声明。调用方法时，编译时不会报错，但运行时会存在安全隐患

## 常量

const：`编译时`常量。即在赋值时，赋值内容必须是编译期间就能确定下来的

- 一般用于创建同一个对象时
- `const 常量构造器`，要求属性用final修饰：const p=const Person('why')，dart2.0后，const可省略

final：`运行时`常量。在赋值时是可以`动态`获取的，比如赋值一个函数

- final用的更多









# 内置类型

## Numbers（数值）

1. int
2. double

方法：

- toString()：数字类型转字符串
- int.parse()：字符串转数字
- double.parse()：字符串转数字
- isEmpty：判断字符串是否为空

## String（字符串）

字符串：单引号或双引号。三引号表示多行字符串

字符串中引用变量：

- `$变量名`
- `${变量名.runtimeType}`

## Boolean（布尔值）

true、false：都是`编译时常量`

- dart中的判断条件`没有非0即真或非空即真`的规则

## List（列表`[]`）

## Set（`{}`）

toList()：set对象转数组

## Map（键值对象）

`不能`通过点语法访问具体的属性。

## Runes

## Symbols







# 函数

dart中没有函数重载（`函数名相同，参数不同`）

dart中，`函数是一等公民`，这意味着`可以将函数赋值给一个变量，也可以将函数作为参数或返回值`。

- 匿名函数：`(){}`

- 箭头函数：`函数体只有1行代码`时才可以写箭头函数

- `函数签名`：规范传入的函数
  - `typedef`：定义函数签名

## 函数参数

`只有可选参数才有默认值`。

- 必须参数：
- 可选参数：
  1. `命名`可选参数：参数部分用`{ }`
  2. 位置可选参数：参数部分用`[ ]`

## 函数返回值

如果没有return，则默认返回`null`

```dart
函数返回值类型 函数名(){
  return 返回值
}
//匿名函数
(){}
//函数签名
void test(int foo(int n1,int n2)){
  
}
//typedef定义函数签名
typedef Calculate=int Function(int n1,int n2)
void test(Calculate calc){
  calc(10,20)
}
```







# 面向对象

抽离类：不用导出，直接导入。

私有属性和私有方法：没有public、private、protected修饰符

- `_属性`
- 抽离类

静态属性和静态方法：static 

对象操作符：

- ?.
- is
- `..`

继承：

- extends
- super

多态：`父类引用指向子类对象`。

## 构造函数

1. 默认构造函数：默认构造函数的名字和类名一样
2. 命名构造函数：`类名.xx()`，可以有多个
3. 常量构造函数（`1`个）： `const`修饰的构造函数 ，要求属性用`final`修饰
   - 通过常量构造函数创建的对象指向同一块内存
4. 工厂构造函数：factory修饰的构造函数 
   - 普通构造函数会自动返回创建出来的对象，不能手动返回
   - 工厂构造函数可以`手动`返回一个对象

### `初始化列表`（`:`）

- 构造函数执行之前`初始化赋值`。语句之间`，`分隔

### 构造函数重定向

构造函数重定向：在构造函数的初始化列表中调用另一个构造函数。

## 类的setter和getter（`监听属性的设置与访问`）

- set
- get

## 抽象类（`abstract`）

抽象类：用于定义标准，`不可以实例化`（但可以使用工厂函数进行实例化）

- `external`关键字：将`方法的声明和实现分离`，可以针对不同的平台进行不同的实现
  - `@patch`：方法实现

子类可继承抽象类，也可用抽象类实现接口。

- `extends` 抽象类：必须实现抽象类的抽象方法（`没有函数体{}`）
- `implements` 抽象类：必须实现抽象类定义的所有属性和方法

## 隐式接口

dart中没有关键字来定义接口。默认情况下，所有class都是`隐式接口`。当一个类当做接口使用时，则实现这个接口的类必须实现这个接口中的所有方法。

- 实现多个接口：`,`

## 混入（`mixin、with`）

dart中是`单继承`，可以使用mixin实现`类似多继承`的功能。

- 定义可混入的类时不能用class，需要`mixin`，`with`进行混入
- 作为mixin的类只能继承自Object（dart中所有东西都是继承自Object）
- 作为mixin的类`不能有构造函数`（有构造函数的，只能`extends`）
- 一个类可以mixin多个mixin类
- mixin不是继承，也不是接口，而是一种全新的特征

## 枚举（`enum`）

values属性：获取枚举的值

index属性：获取枚举值的索引

## 泛型`<T>`



```dart
class Person{
  String name;
  int age;
  //默认构造函数
  Person(String name,int age){
    this.name=name
      this.age=age
  }
   //构造函数语法糖
  Person(this.name,this.age)
    
  //命名构造函数
    Person.test(String name){
    this.name='姓名：'+name
  }
   //初始化列表
    Person.test(this.name,{int age}):this.age=age??10;
  }
}
```







# 异步